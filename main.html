<!DOCTYPE html>
<html lang="kor" ng-app>
  <!-- ng-app 이라는 지시어를 통해 AngularJS가 어디에서부터 DOM을 컴피알 해야하는지 명시하고 있음. -->
<head>
  <meta charset="UTF-8">
  <title>My HTML FILE</title>
  <script src="angularJS_1.0.2.js"></script>
  <!-- <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular.min.js"></script> -->
  <!--
    AngularJS Lib를 로드하고,
    더불어 HTML 페이지가 모두 로드된 후에
    브라우져에 의해 실행되는 콜백을 등록한다.
    콜백이 실행되면, AngularJS는 ng-app 지시어를 찾게 된다.
    다이렉티브를 찾으면 ng-app 지시어가 정의된 요소가 존재하는 어플리케이션 등의 최상위에 부트스트랩을 건다.
  -->
  <script type="text/javascript" charset="utf-8">
  /**
   * Body 태그 안에 ng-controller에서 할당해준 컨트롤러의 이름과 동일한
   * 자바스크립트 함수가 자동으로 매칭된다.
   * ng-controller에서 호출할 때는 scope 파라미터를 따로 넣지 않았지만.
   * 실제 컨트롤러 함수에서는 아래와 같이 $scope 를 파라미터로 받는다.
   * $scope는 AngularJS에서 매우 중요한 요소임.
   */
  function PhoneListController($scope) {
    //  $scope는 jQuery에서 $에 해당하는 전역 객체로 볼 수 있다.
    //  어느 곳에서도 접근할 수 있도록 설정해 주는 역할을 한다고 볼 수 있다.
    $scope.phones = [
      { "no": 0,
        "name": "Nexus S",
				"snippet": "Fast just got faster with Nexus S."
			},
      { "no": 1,
        "name": "Motorola XOOM™ with Wi-Fi",
        "snippet": "The Next, Next Generation tablet."
      },
      { "no": 2,
        "name": "MOTOROLA XOOM™",
        "snippet": "The Next, Next Generation tablet."
      }
    ];
    $scope.hello = "hello, Angular!";

    //  기본값을 미리 번호로 정해 주었다.
    //  기본값을 정하지 않아도 되지만, 그럴 경우 선언된 순서대로 표시 된다.
    $scope.orderProperty = "no";
    //  이렇게 선언된 배열 형태의 데이터 모델은 후에 ng-repeat에 의해 사용된다.
  }
  </script>
</head>
<body ng-controller="PhoneListController">
  <input type="text" ng-model="searchKeyword"/>
  <!-- 
    searchKeyword 라는 이름의 Angular 모델을 선언해 주었다.
    여기에 입력된 내용은 searchKeyword 라는 모델에 자동으로 들어간다.
   -->
  OrderBy : 
  <select ng-model="orderProperty">
    <option value="name" selected>name</option>
    <option value="snippet">snippet</option>
    <option value="no">no</option>
  </select>
  <!-- 
    orderProperty 라는 임의의 이름으로 정렬 순서를 정해줄 앵귤러 모델을 선언해 주었다.
   -->
  <ul>
    <li ng-repeat="phone in phones | filter:searchKeyword | orderBy:orderProperty">
      NO : {{ phone.no }}<br/>
      Name : {{ phone.name }}<br/>
      Snippet : {{ phone.snippet }}
    </li>
    <!-- 
      for( var i in array ) 와 동일한 효과를 주는 방식이다.
      뷰는 ul 아래 li가 ng-repeat 속성을 통해
      phone 객체 안에 이름과 스니펫에 대한 속성을 반복적으로 출력하는 부분을 통해 살펴 볼 수 있다.
      데이터 모델은 예제에서는 단순하게 Phone 객체들의 배열로 표현된다.
      이 배열들은 PhoneListCtrl 컨트롤러에 의해 제어됨.
      AngularJS에서 뷰는 데이터 모델의 값들이 HTML 템플릿을 통해 보여진 결과라고 볼 수 있음.
      언제든 모델이 변하면 AngularJS는 적절하게 연결된 요소를 반영하여 뷰를 업데이트 한다.

      filter가 추가 되었다.
      filter 함수는 ng-repeat에 영향을 주게 된다.
      특별히 searchKeyword에 입력된 값에 따라 내용을 필터링해서 보여준다.

      orderBy 라는 항목이 추가 되었다.
      filter 함수가 매칭되는 내용을 찾는 거라면,
      orderBy는 value에 할당된 값과 일치하는 객체의 요소 명을 기준으로 정렬한다.
     -->
  </ul>
  <p>{{hello}}</p>
</body>
</html>